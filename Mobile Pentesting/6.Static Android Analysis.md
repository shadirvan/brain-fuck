## Pulling App From Playstore 
### ADB Shell
- Login the google account in virtual machine.
- Download The application from Playstore
- Use the command `adb shell` in CMD
- list the installed packages using `pm list packages`
- grep the required application : `pm list packages | grep testapp`
- find the path of the APK : `pm path <package_name>`
- exit out of the shell and type the command `adb pull <package_path> <apk_name>`
## JADX
- jadx GUI is used to decompile an application.
- By decompiling we can see the apps  files, assets, strings, permissions, etc
## Android Manifest
- File where the basic information about the application is defined. like:
	- minimumSDKVersion
	- permissions
	- Activities
	- ContentProviders
- The documentation for different types of permissions used in android can be seen here :
	- https://developer.android.com/reference/android/Manifest.permission
- minimumSDKVersion is the minimum android API that the App can run on:
	- ![[Pasted image 20251128044333.png]]
- Permissions shows what permissions the app have access to:
	- ![[Pasted image 20251128044503.png]]
- Activities are basically UI Elements or Different screens Some example include :
	-  Account Details 
	- Money Transfer Screens
	- Hidden Screens
	- ![[Pasted image 20251128044618.png]]
- Intent filters are used for performing different activities.
- An intent filter is an expression in an Android app's manifest file that specifies the types of implicit intents a component (activity, service, or broadcast receiver) is capable of receiving and responding to.
- It helps in inter-app communication.
- If an activity set as exported = True can be accessed from outside the application.
- Content Providers : Utilized to serve data from your application to other applications.
	- Sometimes used for sharing data between bunch of related apps.
	- If content providers are exported , this can be very dangerous and expose data to any user or app on the device.
	- ![[Pasted image 20251128044710.png]]
## APKTOOL
- APK tool can be used for decompiling and doing static analysis manually.
- syntax : `apktool d <apk_location.apk>`
- This decompiles the APK into a folder which contains many files like resources, source codes, etc.
## Finding Hardcoded Strings
- hardcoded strings can be seen in resources/strings.xml
- hardcoded strings can also be found in activity source code.
- Threat Vectors include :
	- Login bypass using hardcoded credentials.
	- Exposed URLS
	- Exposed API Keys
	- Firebase URLs
- The strings file can be seen in Resources/resources.arsc/res/values/strings.xml
- The search text tool on top of tool bar can be used for searching for text. 
- the keyword that can used to find URLs is : `http` or `https`
## Accessing Exported Activities
- Find a exported activity in the XML File
- ![[Pasted image 20251128054106.png]]
- use adb shell to start the activity
- ![[Pasted image 20251128054507.png]]
- **Remember to add  '/' before the '.' of the activity name**.
- Source code may contain hardcoded string that may compare to give a success or failure messages.
## Cloud_enum

- It is a tool that allow enumerating cloud and find the urls based on the company name we give
- Link to tool :https://github.com/initstring/cloud_enum
- awscli can be used to access the S3 buckets found by this method.
## Firebase Enum
- Enumerates firebase and find exposed firebase databases.
- link to tool : https://github.com/Sambal0x/firebaseEnum
## MOBSF
- mobile security framework
- automates mobile pentesting.
- Link to tool : https://github.com/MobSF/Mobile-Security-Framework-MobSF